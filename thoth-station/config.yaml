plank:
  default_decoration_configs:
    "*":
      utility_images:
        clonerefs: "gcr.io/k8s-prow/clonerefs:v20200615-5d59425fc2"
        initupload: "gcr.io/k8s-prow/initupload:v20200615-5d59425fc2"
        entrypoint: "gcr.io/k8s-prow/entrypoint:v20200615-5d59425fc2"
        sidecar: "gcr.io/k8s-prow/sidecar:v20200615-5d59425fc2"
      gcs_configuration:
        bucket: aicoe-thoth-prow-artifacts
        path_strategy: explicit
      gcs_credentials_secret: gcs-credentials

github_reporter:
  job_types_to_report:
    - presubmit
    - postsubmit

tide:
  merge_method:
    thoth-station/srcops-testing: squash

  target_url: http://34.120.197.155/tide

  queries:
    - repos:
        - thoth-station/srcops-testing
      labels:
        - lgtm
        - approved
      missingLabels:
        - do-not-merge
        - do-not-merge/hold
        - do-not-merge/work-in-progress
        - do-not-merge/invalid-owners-file

  context_options:
    from-branch-protection: true
    skip-unknown-contexts: true
    orgs:
      org:
        required-contexts:
          - "check-required-for-all-repos"
        repos:
          repo:
            required-contexts:
              - "thoth-ci/build-check"
              - "thoth-ci/pytest-check"

periodics:
  - interval: 10m
    name: echo-test
    decorate: true
    spec:
      containers:
        - image: alpine
          command: ["/bin/date"]

postsubmits:
  thoth-station/srcops-testing:
    - name: test-postsubmit
      decorate: true
      spec:
        containers:
          - image: alpine
            command: ["/bin/printenv"]

presubmits:
  thoth-station/srcops-testing:
    - name: test-presubmit
      decorate: true
      always_run: true
      skip_report: true
      spec:
        containers:
          - image: alpine
            command: ["/bin/printenv"]
